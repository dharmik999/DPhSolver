<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DPhSolver - Chatbot</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #0F172A 0%, #1E1B4B 100%);
            position: relative;
            color: #ffffff;
            line-height: 1.6;
        }
        header {
            background: linear-gradient(135deg, #8B5CF6 0%, #F43F5E 100%);
            animation: gradientFlow 12s ease infinite;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(90deg, #8B5CF6, #F43F5E);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 4s ease infinite;
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        header nav a {
            color: #ffffff;
            text-decoration: none;
            margin-left: 1.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            transition: color 0.3s, transform 0.3s;
        }
        header nav a:hover {
            color: #ffffff;
            transform: scale(1.1);
        }
        .chatbot-section {
            padding: 7rem 2rem;
            text-align: center;
            min-height: 100vh;
            position: relative;
            z-index: 10;
        }
        .chatbot-section h2 {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 2rem;
            background: linear-gradient(90deg, #8B5CF6, #F43F5E);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 4s ease infinite, bounce 2.5s infinite ease-in-out;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        iframe {
            width: 100%;
            max-width: 900px;
            height: 600px;
            border: none;
            border-radius: 12px;
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.7), 0 0 50px rgba(244, 63, 94, 0.5);
            transition: transform 0.3s ease;
        }
        iframe:hover {
            transform: scale(1.02);
        }
        .particle-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        .svg-decor {
            position: absolute;
            z-index: 5;
            animation: waveGlow 3s infinite alternate;
        }
        @keyframes waveGlow {
            0% { filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.8)); }
            100% { filter: drop-shadow(0 0 20px rgba(244, 63, 94, 1)); }
        }
        .svg-decor-top {
            top: 0;
            left: 0;
            width: 100%;
            height: 150px;
        }
        .svg-decor-bottom {
            bottom: 0;
            right: 0;
            width: 100%;
            height: 150px;
        }
        .equation {
            position: absolute;
            color: #ffffff;
            font-family: 'Times New Roman', serif;
            font-size: 24px;
            opacity: 0.3;
            z-index: 5;
            animation: equationGlow 4s infinite alternate;
            pointer-events: none;
        }
        @keyframes equationGlow {
            0% { filter: drop-shadow(0 0 5px rgba(139, 92, 246, 0.7)); opacity: 0.3; }
            100% { filter: drop-shadow(0 0 15px rgba(244, 63, 94, 0.9)); opacity: 0.5; }
        }
        .magic-button {
            position: relative;
            overflow: hidden;
            background: linear-gradient(45deg, #8B5CF6, #F43F5E);
            box-shadow: 0 0 25px rgba(139, 92, 246, 0.9), 0 0 50px rgba(244, 63, 94, 0.7);
            transition: all 0.4s ease;
            border-radius: 9999px;
            z-index: 10;
        }
        .magic-button:hover {
            transform: scale(1.2);
            box-shadow: 0 0 50px rgba(139, 92, 246, 1), 0 0 80px rgba(244, 63, 94, 0.9);
        }
        .magic-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
            transition: 0.6s;
        }
        .magic-button:hover::before {
            left: 100%;
        }
        .pulse {
            animation: pulse 1s infinite ease-in-out;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.9); }
            70% { box-shadow: 0 0 0 30px rgba(139, 92, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); }
        }
    </style>
</head>
<body>
    <canvas id="particleCanvas"></canvas>
    <svg class="svg-decor svg-decor-top" viewBox="0 0 1440 150">
        <defs>
            <linearGradient id="waveGradientTop" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:0.7" />
                <stop offset="100%" style="stop-color:#F43F5E;stop-opacity:0.7" />
            </linearGradient>
        </defs>
        <path fill="url(#waveGradientTop)" d="M0,120L48,100C96,80,192,40,288,60C384,80,480,120,576,130C672,140,768,120,864,100C960,80,1056,60,1152,80C1248,100,1344,160,1392,190L1440,200L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"></path>
    </svg>
    <svg class="svg-decor svg-decor-bottom" viewBox="0 0 1440 150">
        <defs>
            <linearGradient id="waveGradientBottom" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#F43F5E;stop-opacity:0.7" />
                <stop offset="100%" style="stop-color:#8B5CF6;stop-opacity:0.7" />
            </linearGradient>
        </defs>
        <path fill="url(#waveGradientBottom)" d="M0,30L48,50C96,70,192,110,288,90C384,70,480,30,576,20C672,10,768,30,864,50C960,70,1056,90,1152,70C1248,50,1344,-10,1392,-40L1440,-50L1440,150L1392,150C1344,150,1248,150,1152,150C1056,150,960,150,864,150C768,150,672,150,576,150C480,150,384,150,288,150C192,150,96,150,48,150L0,150Z"></path>
    </svg>
    <div class="equation" style="top: 15%; left: 10%;">∫ f(x) dx = F(x) + C</div>
    <div class="equation" style="top: 55%; left: 65%;">d/dx [f(x)] = f'(x)</div>
    <div class="equation" style="top: 35%; left: 25%;">∑_{n=1}^∞ 1/n² = π²/6</div>

    <header>
        <div class="logo">DPhSolver</div>
        <nav>
            <a href="index.html" class="magic-button pulse px-6 py-3 text-lg">Home</a>
            <a href="#" id="logout-btn" class="magic-button pulse px-6 py-3 text-lg">Logout</a>
        </nav>
    </header>

    <section class="chatbot-section">
        <h2>Physics Problem Solver Chatbot</h2>
        <iframe src="https://dharmik999-dphsolver.hf.space" frameborder="0" width="850" height="450"></iframe>
    </section>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyADcAkqXqSZ_crzAaMCNu6IWUYQS5ZWrIY",
            authDomain: "sign-up-login-d1723.firebaseapp.com",
            projectId: "sign-up-login-d1723",
            storageBucket: "sign-up-login-d1723.firebasestorage.app",
            messagingSenderId: "94024367004",
            appId: "1:94024367004:web:b0c513729231a06da3a659",
            measurementId: "G-XKX2CPZMQE"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        const logoutBtn = document.getElementById('logout-btn');

        logoutBtn.addEventListener('click', () => {
            signOut(auth)
                .then(() => {
                    window.location.href = 'index.html';
                })
                .catch(error => alert(error.message));
        });

        window.onload = function() {
            const iframe = document.querySelector('iframe');
            iframe.onload = () => console.log('Chatbot loaded successfully');
            iframe.onerror = () => console.error('Error loading chatbot');
        };
    </script>
    <script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
            return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
            if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
                try {
                    var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                    var firstSheetName = workbook.SheetNames[0];
                    var worksheet = workbook.Sheets[firstSheetName];
                    var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                    var filteredData = jsonData.filter(row => row.some(filledCell));
                    var headerRowIndex = filteredData.findIndex((row, index) =>
                        row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                    );
                    if (headerRowIndex === -1 || headerRowIndex > 25) {
                        headerRowIndex = 0;
                    }
                    var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
                    csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                    return csv;
                } catch (e) {
                    console.error(e);
                    return "";
                }
            }
            return gk_fileData[filename] || "";
        }
    </script>
    <script>
        const canvas = document.getElementById('particleCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const equations = [];

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 6 + 3;
                this.speedX = Math.random() * 0.6 - 0.3;
                this.speedY = Math.random() * 0.6 - 0.3;
                this.opacity = Math.random() * 0.4 + 0.4;
                this.color = Math.random() > 0.5 ? 'rgba(139, 92, 246, ' : 'rgba(244, 63, 94, ';
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
                this.opacity = 0.4 + Math.sin(Date.now() / 800 + this.x) * 0.3;
                this.size = 3 + Math.sin(Date.now() / 1000 + this.y) * 2;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = `${this.color}${this.opacity})`;
                ctx.shadowBlur = 10;
                ctx.shadowColor = this.color + '1)';
                ctx.fill();
                ctx.shadowBlur = 0;
            }
        }

        class Equation {
            constructor(x, y, text) {
                this.x = x;
                this.y = y;
                this.text = text;
                this.fontSize = Math.random() * 20 + 20;
                this.speedX = Math.random() * 0.15 - 0.075;
                this.speedY = Math.random() * 0.15 - 0.075;
                this.opacity = Math.random() * 0.3 + 0.3;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
                this.opacity = 0.3 + Math.sin(Date.now() / 1500) * 0.2;
            }
            draw() {
                ctx.font = `${this.fontSize}px 'Times New Roman', serif`;
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                ctx.shadowBlur = 15;
                ctx.shadowColor = 'rgba(139, 92, 246, 0.7)';
                ctx.fillText(this.text, this.x, this.y);
                ctx.shadowBlur = 0;
            }
        }

        function init() {
            for (let i = 0; i < 150; i++) particles.push(new Particle());
            equations.push(new Equation(canvas.width * 0.15, canvas.height * 0.25, "∫ f(x) dx = F(x) + C"));
            equations.push(new Equation(canvas.width * 0.65, canvas.height * 0.65, "d/dx [f(x)] = f'(x)"));
            equations.push(new Equation(canvas.width * 0.35, canvas.height * 0.45, "∑_{n=1}^∞ 1/n² = π²/6"));
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            equations.forEach(e => { e.update(); e.draw(); });
            requestAnimationFrame(animate);
        }

        init();
        animate();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
